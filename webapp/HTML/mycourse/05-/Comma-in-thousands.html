<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comma in thousands</title>
</head>
<body>
    
    <input type="text" id="input1"><br>
    <input type="text" id="input2"><br><br>
    <button onclick="CommaInThousands()">点击将input中千位加","</button>
<script>
const CommaInThousands = () => {
    const input1Id = document.getElementById("input1")   
    const input2Id = document.getElementById("input2")   
    //法一 ：我将传入的int转成一个字符串，js中字符串不可变
    //按千位前和千位后，分别push到另一个数组变量中，最后用join聚合
    const CommaInThousands1 = (inputId) => {
    const str = inputId.value;
    let arr = [];
    if(str.length>3 && str[str.length-4] !== ',')
    {
        //slice（start, end）用于提取原来数组的一部分，会返回一个提取的新数组，原数组不变（字符串适用,不包括end)。
        arr.push(str.slice(0,str.length-4));
        arr.push(",");
        arr.push(str.slice(str[str.length-4]));
    }
    else
        arr.push(str);
        inputId.value = arr.join('');
}

//法2：传入的如果是int，先转成字符串，再split分割成数组，
    //用splice(index,num,i1,i2...) ，返回的是被删除元素的新数组，所以要用被修改的原数组，不能再splice方法后.join
    //最后join回字符串
const CommaInThousands2 = (inputId) => {
    const str = inputId.value.split('')
     if(str.length>3  && str[str.length-4] !== ',')
        str.splice(str.length-3,0,',')
        inputId.value =  str.join('')
}
CommaInThousands2(input1Id)
CommaInThousands2(input2Id)
}
//console.log(CommaInThousands1(123456789)); 
//console.log(CommaInThousands2(123456789));

</script>
</body>
</html>